# @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
# @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
# @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
# @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
# @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
# @@@@#@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@#G@@@@
# @@@#^5@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@B~:#@@@
# @@@P..J@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@P:..Y@@@
# @@@5...!#@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@&?....Y@@@
# @@@B....:5@@@@@@@@@@@@@5?????75&@@@@@@@@@@@&5??????J@@@@@@@@@@@@B~....:B@@@
# @@@@7 ... ~B@@@@@@@@@@@~       ^J#@@@@@@@&Y^       :&@@@@@@@@@@J. ... 5@@@@
# GB@@&!  .. .?#@@@@@@@@@! ......  :?#@@@#J:  ...... :&@@@@@@@@G~  .. .Y@@&YY
# ! ?#@@?.     .J&@@@@@@@~           .7G?.           :&@@@@@@#7      ^G@&Y^ !
# J  .?#@B!      :J#@@@@@~                           :&@@@@&J.     .J@&J:   5
# &^   .7G@B!      .?B@@@~      !!           ~!      :&@@#J:     .7##?.    ?@
# @#~     ^YBG7.     .!G@!      Y@G!.      !G@5      :&G7.     .?BG!.    .Y@@
# @@@5^     .!Y5?:      ^: .... J@@@B7. .7G@@@Y  ... .:      ^YGY^     .!B@@@
# YG&@@P~.  .  .~?7^.... ...... J@@@@@#YB@@@@@Y ...... .  :75Y!.  .  :?B@@BJ7
# Y :75#@BJ^. ..  .^^^:........ J@@@@@@@@@@@@@Y .......:~?J7:  .  :!5&&GJ~..P
# @Y.  .^75GP?~:......::........:!5&@@@@@@@&P!:.......:^^:. ...^75GGY!:.  ^G@
# @@B7:.....^!??7~^:...............^P@@@@@P^..............:^~?YYJ!^... .^Y&@@
# @@@@#Y~.......:^^^^::..............P@@@P..............:^~!~^:......^?G@@@@@
# @@@@@@@B57^:.......:::::::::::::::.~@@@7.:::::::::::.:::......:~75B@@@@@@@@
# @@@@#5B&@@@#GY?!~^:::..:::::::::::.:#@@!.:::::::::::.:::^~7J5G#@@&#GPYB@@@@
# @@@@&?::^!7?Y55P55YJ?7!~^::::::::::^&@@7.:::::::::^~!?JYY55YJ?7!^^:.^Y@@@@@
# @@@@@@BJ~:........:::::::.::::::::.~@@@Y.::::::::..::::.........:^75&@@@@@@
# @@@@@@@@@#G5J?!~~~^^~~~!!!!~^:::::.J@@@P.::::::~77777!!!!!!77?YPB&@@@@@@@@@
# @@@@@@@@@@@@@@@@&&&#BG5J7!^::::::.^B@@@&7:.:::::^~7?YPGB#&&@@@@@@@@@@@@@@@@
# @@@@@@@@@@@@@@@&5?!^:......:::^~?5&@@@@@@GJ!~^:::.....:^~?P&@@@@@@@@@@@@@@@
# @@@@@@@@@@@@@@@@@&BG55YYYY5PGB#@@@@@@@@@@@@@&#BGP555PPG#&@@@@@@@@@@@@@@@@@@
# @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
# @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
# @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
# @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
# @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@

# ğ–¬ğ–¤ğ–±ğ–¢ğ–¸ ğ–¢ğ–®ğ–«ğ–«ğ–¤ğ–¢ğ–³ğ–¨ğ–µğ–¤ - ğ– ğ–£ğ–¬ğ–¨ğ–­ ğ–¬ğ–¤ğ–­ğ–´â€‹â€‹â€‹â€‹â€‹ (ğ™Œğ˜½ğ˜¾ğ™Šğ™ğ™€) #

# ğ—§ğ—µğ—®ğ—»ğ—¸ ğ˜†ğ—¼ğ˜‚ ğ—³ğ—¼ğ—¿ ğ—½ğ˜‚ğ—¿ğ—°ğ—µğ—®ğ˜€ğ—¶ğ—»ğ—´ ğ—ºğ—²ğ—¿ğ—°ğ˜†-ğ—®ğ—±ğ—ºğ—¶ğ—»ğ—ºğ—²ğ—»ğ˜‚ ğ—³ğ—¼ğ—¿ ğ—¤ğ—•ğ—–ğ—¼ğ—¿ğ—².

# /â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\ #

# FÌ²eÌ²aÌ²tÌ²uÌ²rÌ²eÌ²sÌ²:
# â€¢ Highly customizable config.
# â€¢ Targeted Player (Click on Current Target prompt to deselect target.)
# â€¢ Pinned Target
# â€¢ Filtering Players (Server Id, Steam Id)
# â€¢ Dev Mode
# â€¢ Favorite Actions
# â€¢ Filtering Actions
# â€¢ Action Categories
# â€¢ Troll Actions (Soon more!)

# \â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€/ #

# â–ˆâ–ˆâ•—â€ƒâ€ƒâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ•—â–‘â–‘â–‘â–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–‘â–‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–‘â–ˆâ–ˆâ–ˆâ•—â–‘â–‘â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â€ƒâ€ƒâ–ˆâ–ˆâ•—
# â–ˆâ–ˆâ•‘â€ƒâ€ƒâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ•—â–‘â–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â•šâ•â•â–ˆâ–ˆâ•”â•â•â•â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ•—â–‘â–ˆâ–ˆâ•‘â•šâ•â•â–ˆâ–ˆâ•”â•â•â•â€ƒâ€ƒâ–ˆâ–ˆâ•‘
# â–ˆâ–ˆâ•‘â€ƒâ€ƒâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â–ˆâ–ˆâ–ˆâ–ˆâ•”â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘â–‘â–‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–‘â–‘â–‘â–ˆâ–ˆâ•‘â–‘â–‘â–‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘â–‘â–‘â–‘â–ˆâ–ˆâ•‘â–‘â–‘â–‘â€ƒâ€ƒâ–ˆâ–ˆâ•‘
# â•šâ•â•â€ƒâ€ƒâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â•â–‘â–ˆâ–ˆâ•‘â–‘â–‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–‘â–‘â–‘â–ˆâ–ˆâ•‘â–‘â–‘â–‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–‘â–‘â–‘â–ˆâ–ˆâ•‘â–‘â–‘â–‘â€ƒâ€ƒâ•šâ•â•
# â–ˆâ–ˆâ•—â€ƒâ€ƒâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â–‘â•šâ•â•â–‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â–‘â–‘â–‘â–‘â–‘â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘â–‘â–‘â–ˆâ–ˆâ•‘â–‘â–‘â–‘â–ˆâ–ˆâ•‘â–‘â–‘â–‘â–ˆâ–ˆâ•‘â–‘â–‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â–‘â•šâ–ˆâ–ˆâ–ˆâ•‘â–‘â–‘â–‘â–ˆâ–ˆâ•‘â–‘â–‘â–‘â€ƒâ€ƒâ–ˆâ–ˆâ•—
# â•šâ•â•â€ƒâ€ƒâ•šâ•â•â•šâ•â•â–‘â–‘â–‘â–‘â–‘â•šâ•â•â•šâ•â•â–‘â–‘â–‘â–‘â–‘â–‘â•šâ•â•â•â•â•â–‘â•šâ•â•â–‘â–‘â•šâ•â•â–‘â–‘â–‘â•šâ•â•â–‘â–‘â–‘â•šâ•â•â–‘â–‘â•šâ•â•â•šâ•â•â–‘â–‘â•šâ•â•â•â–‘â–‘â–‘â•šâ•â•â–‘â–‘â–‘â€ƒâ€ƒâ•šâ•â•

# ğ—¡ğ—¢ğ—§ğ—˜: ğ—¦ğ—¼ğ˜‚ğ—»ğ—± ğ—³ğ—¶ğ—¹ğ—²ğ˜€ ğ—³ğ—¼ğ—¿ ğ—™ğ—®ğ—¿ğ˜ ğ—¡ğ—¼ğ—¶ğ˜€ğ—²ğ˜€ ğ—®ğ—¿ğ—² ğ—¶ğ—»ğ—°ğ—¹ğ˜‚ğ—±ğ—²ğ—± ğ—¶ğ—» the ğ˜€ğ—¼ğ˜‚ğ—»ğ—±ğ˜€ ğ—³ğ—¼ğ—¹ğ—±ğ—²ğ—¿.

##  ğ—¥ğ—˜ğ—¤ğ—¨ğ—œğ—¥ğ—˜ğ—— ğ—™ğ—¨ğ—¡ğ—–ğ—§ğ—œğ—¢ğ—¡ğ—¦ (ğ—¾ğ—¯-ğ—°ğ—¼ğ—¿ğ—²) ##
## ğ˜½ğ™š ğ™¨ğ™ªğ™§ğ™š ğ™©ğ™¤ ğ™–ğ™™ğ™™ ğ™©ğ™ğ™šğ™¨ğ™š ğ™›ğ™ªğ™£ğ™˜ğ™©ğ™ğ™¤ğ™£ğ™¨â—##

# server/functions.lua

QBCore.Functions.GetPlayerFromIdentifier = function(Identifier)
	for src, player in pairs(QBCore.Players) do
		if Identifier ~= nil then
            if QBCore.Players[src].PlayerData.license == Identifier then
                return QBCore.Players[src]
            end            
        end
	end
	return nil
end

# client/functions.lua

local RegisteredBlips, RegisteredRadiusBlips = {}, {}

QBCore.Functions.CreateBlip = function(BlipId, Coords, Text, Logo, FirstColor, Flashing, Size, ShortRange, Category)
    if RegisteredBlips[BlipId] ~= nil then
        QBCore.Functions.RemoveBlip(BlipId)
    end
    local Blip = AddBlipForCoord(Coords.x, Coords.y, Coords.z)
    SetBlipSprite(Blip, Logo)
    SetBlipDisplay(Blip, 4)
    SetBlipScale(Blip, Size)
    if ShortRange ~= nil and ShortRange ~= false then
        SetBlipAsShortRange(Blip, ShortRange)
    else
        SetBlipAsShortRange(Blip, true)
    end
    if FirstColor ~= nil and FirstColor ~= false then
        SetBlipColour(Blip, FirstColor)
    else
        SetBlipColour(Blip, 1)
    end
    if Flashing ~= nil and Flashing ~= false then
        SetBlipFlashes(Blip, true)
    end
    if Category ~= nil and Category ~= false then
        SetBlipCategory(Blip, Category)
        --7	Other Players
        --10 Property
        --11 Owned Property
    end
    BeginTextCommandSetBlipName("STRING")
    AddTextComponentSubstringPlayerName(Text)
    EndTextCommandSetBlipName(Blip)
    RegisteredBlips[BlipId] = Blip
    return Blip
end

QBCore.Functions.CreateRadiusBlip = function(BlipId, Coords, Color, Radius)
    if RegisteredRadiusBlips[BlipId] ~= nil then
        QBCore.Functions.RemoveBlip(BlipId)
    end
    local RadiusBlip = AddBlipForRadius(Coords.x, Coords.y, Coords.z, Radius)        
    SetBlipRotation(RadiusBlip, 0)
    SetBlipColour(RadiusBlip, Color)
    SetBlipAlpha(RadiusBlip, 175)
    RegisteredRadiusBlips[BlipId] = RadiusBlip
end

QBCore.Functions.SetBlipCoords = function(BlipId, Coords)
    local Blip = QBCore.Functions.GetBlipById(BlipId)
    SetBlipCoords(Blip, Coords.x, Coords.y, Coords.z)
end

QBCore.Functions.RemoveBlip = function(BlipId)
    if RegisteredBlips[BlipId] ~= nil then
        RemoveBlip(RegisteredBlips[BlipId])
        RegisteredBlips[BlipId] = nil
    elseif RegisteredRadiusBlips[BlipId] ~= nil then
        RemoveBlip(RegisteredRadiusBlips[BlipId])
        RegisteredRadiusBlips[BlipId] = nil
    end
end

QBCore.Functions.GetBlipById = function(BlipId)
    if RegisteredRadiusBlips[BlipId] ~= nil then
        return RegisteredRadiusBlips[BlipId]
    end
    if RegisteredBlips[BlipId] ~= nil then
        return RegisteredBlips[BlipId]
    end
    return false
end

QBCore.Functions.GetAllBlipsData = function(Type)
    if Type ~= nil and Type == 'Radius' then
        return RegisteredRadiusBlips
    else
        return RegisteredBlips
    end
end